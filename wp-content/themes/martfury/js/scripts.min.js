!function(p){"use strict";var u=u||{};u.init=function(){u.$body=p(document.body),u.$window=p(window),u.$header=p("#site-header"),this.preLoader(),this.newLetterPopup(),this.stickyHeader(),this.productSearchLabel(),this.headerMenu(),this.megaMenu(),this.instanceSearch(),this.topPromotion(),this.mobileMenu(),this.userMobileMenu(),this.headerIE(),this.pageHeaderParallax(),this.postEntryFormat(),this.singleEntryFormat(),this.blogLoadingAjax(),this.relatedPost(),this.blogLayout(),this.lazyLoad(),this.backToTop(),this.recentlyViewedProducts(),this.catalogBanners(),this.productsTopCarousel(),this.collapseTheFilter(),this.productCategoriesWidget(),this.toolTipIcon(),this.searchLayeredNav(),this.productAttribute(),this.shopView(),this.addWishlist(),this.addCompare(),this.productQuickView(),this.variationImagesCarousel(),this.productTopCategories(),this.filterAjax(),this.catalogOpenCartMini(),this.productsLoadInfinite(),this.hoverProductTabs(),this.productQuantity(),this.productThumbnail(),this.productVideo(),this.productGallery(),this.productDegree(),this.singleProductCarousel(),this.fbtProduct(),this.fbtAddToCartAjax(),this.fbtAddToWishlistAjax(),this.instagramCarousel(),this.productVatiation(),this.productVariationVideo(),this.addToCartAjax(),this.stickyProductInfo(),this.loginTabs(),this.buyNow(),this.wooTabToggle(),this.cartQuantity(),this.filterOnMobile(),this.navigationMobile(),this.footerDropdown(),this.catalogSorting(),this.wcfm(),p(document.body).on("martfury_get_products_ajax_success",function(){u.toolTipIcon()})},u.isIEVersion=function(){var e=window.navigator.userAgent,t=!1,a=e.indexOf("MSIE ");if(0<a&&(t=parseInt(e.substring(a+5,e.indexOf(".",a)),10)),0<e.indexOf("Trident/")){var o=e.indexOf("rv:");t=parseInt(e.substring(o+3,e.indexOf(".",o)),10)}return t},u.headerIE=function(){if(u.isIEVersion()){var e,t=u.$header.find(".header-extras"),a=t.find(".product-extra-search"),o=t.find(".extras-menu"),i=t.width();e=88-o.outerWidth(!0)/i*100+"%",a.width(e)}},u.preLoader=function(){u.$body.hasClass("mf-preloader")&&(u.$body.hasClass("elementor-editor-active")?p("#page").addClass("fade-in"):(NProgress.start(),u.$window.on("load",function(){NProgress.done(),p("#page").addClass("fade-in")})))},u.stickyHeader=function(){if(u.$body.hasClass("sticky-header")){var e=0,t=u.$header.find(".header-main-wapper"),a=t.outerHeight()-18,o=p("#top-promotion"),i=0<o.length?o.outerHeight(!0):0,n=p("#topbar"),r=0<n.length?n.outerHeight(!0):0,s=u.$header.outerHeight(!0);u.$body.outerHeight(!0)<=(e=r+i+s)+u.$window.height()||u.$window.on("scroll",function(){0<o.length&&o.hasClass("invisible")&&(e=s+r),u.$window.scrollTop()>e?(u.$header.addClass("minimized"),t.css({"padding-top":a})):(u.$header.removeClass("minimized"),t.removeAttr("style"))})}},u.topPromotion=function(){var t=p("#top-promotion");t.length<1||t.on("click",".close",function(e){e.preventDefault(),t.slideUp().addClass("invisible")})},u.mobileMenu=function(){var e=p("#mf-els-modal-mobile").find(".primary-mobile-nav");function t(e){e.closest("li").siblings().find("ul").slideUp(),e.closest("li").siblings().removeClass("active"),e.closest("li").siblings().find("li").removeClass("active"),e.closest("li").children("ul").slideToggle(),e.closest("li").toggleClass("active")}u.$body.hasClass("mobile-version")||(e=p("#primary-mobile-nav")),u.$header.on("click","#mf-toggle-menu",function(e){e.preventDefault(),u.$body.toggleClass("display-mobile-menu")}),e.find(".menu .menu-item-has-children > a").prepend('<span class="toggle-menu-children"><i class="icon-plus"></i> </span>'),u.$body.hasClass("submenus-mobile-icon")?e.on("click",".toggle-menu-children",function(e){e.preventDefault(),t(p(this))}):e.on("click",".menu-item-has-children > a",function(e){e.preventDefault(),t(p(this))}),e.on("click",".close-canvas-mobile-panel",function(e){e.preventDefault(),u.$body.removeClass("display-mobile-menu")}),p("#mf-off-canvas-layer").on("click",function(e){e.preventDefault(),u.$body.removeClass("display-mobile-menu mb-filter-active mf-filter-active"),p("#navigation-mobile_cat").removeClass("active"),p("#mf-navigation-mobile").find(".navigation-mobile_search").removeClass("active"),p("#mf-navigation-mobile").find(".navigation-mobile_cart").removeClass("active")}),u.$window.on("resize",function(){1200<u.$window.width()&&u.$body.removeClass("display-mobile-menu")})},u.navigationMobile=function(){var a=p("#mf-els-modal-mobile"),o=p("#mf-search-mobile"),t=p("#primary-mobile-nav"),i=p("#mf-category-mobile-nav"),n=p("#mf-cart-mobile"),r=a.find(".mf-els-item");function s(e,t){a.removeClass("open"),u.$body.removeClass("navigation-mobile-active"),r.removeClass("current"),t.addClass("current"),e.hasClass("active")?(a.removeClass("open"),e.removeClass("active"),u.$body.removeClass("navigation-mobile-active")):(a.addClass("open"),e.addClass("active"),u.$body.addClass("navigation-mobile-active"))}p("#mf-navigation-mobile").on("click",".navigation-mobile_cat",function(e){e.preventDefault();var t=p(this);t.closest(".navigation-list").find(".navigation-mobile_search, .navigation-mobile_cart").removeClass("active"),s(t,i)}),p("#mf-navigation-mobile").on("click",".navigation-mobile_search",function(e){e.preventDefault();var t=p(this);t.closest(".navigation-list").find(".navigation-mobile_cat, .navigation-mobile_cart").removeClass("active"),s(t,o)}),u.$header.on("click","#site-header-category--mobile",function(e){e.preventDefault(),r.removeClass("current"),t.addClass("current"),a.addClass("open"),u.$body.addClass("navigation-mobile-active")}),p("#mf-off-canvas-layer").on("click",function(e){e.preventDefault(),u.$body.removeClass("navigation-mobile-active"),a.removeClass("open"),i.removeClass("current")}),n.on("click",".close-cart-mobile",function(e){e.preventDefault(),u.$body.removeClass("navigation-mobile-active"),a.removeClass("open"),n.removeClass("current"),p("#mf-navigation-mobile").find(".navigation-mobile_cart").removeClass("active")}),a.find(".primary-mobile-nav").on("click",".close-mobile-nav",function(e){e.preventDefault(),u.$body.removeClass("navigation-mobile-active"),a.removeClass("open"),p("#navigation-mobile_cat").removeClass("active")}),u.$body.hasClass("cart-panel-mobile")&&(p("#mf-navigation-mobile").on("click",".navigation-mobile_cart",function(e){e.preventDefault();var t=p(this);t.closest(".navigation-list").find(".navigation-mobile_search, .navigation-mobile_cat").removeClass("active"),s(t,n)}),u.$header.on("click","#icon-cart-contents",function(e){e.preventDefault(),r.removeClass("current"),n.addClass("current"),a.addClass("open"),p("#mf-navigation-mobile").find(".navigation-mobile_cart").addClass("active"),u.$body.addClass("navigation-mobile-active")}))},u.userMobileMenu=function(){var e=p("#primary-user-nav");e.length<1||(u.$window.on("resize",function(){u.$window.width()<1200?u.$body.addClass("canvas-menu-mobile"):u.$body.removeClass("canvas-menu-mobile")}).trigger("resize"),u.$header.find(".menu-item-account.logined").on("click","a",function(e){u.$body.hasClass("canvas-menu-mobile")&&(e.preventDefault(),u.$body.toggleClass("display-user-mobile"))}),e.on("click",".close-canvas-mobile-panel",function(e){e.preventDefault(),u.$body.removeClass("display-user-mobile")}),p("#mf-off-canvas-layer").on("click",function(e){e.preventDefault(),u.$body.removeClass("display-user-mobile")}))},u.newLetterPopup=function(){var t=p("#mf-newsletter-popup"),a=parseInt(martfuryData.nl_days),e=parseInt(martfuryData.nl_seconds);function o(e){var t=new Date,a=t.getTime();t.setTime(t.getTime()+24*e*60*60*1e3),document.cookie="mf_newletter="+a+";expires="+t.toGMTString()+";path=/"}0<a&&document.cookie.match(/^(.*;)?\s*mf_newletter\s*=\s*[^;]+(.*)?$/)||t.length<1||(u.$window.on("load",function(){setTimeout(function(){t.addClass("open")},1e3*e)}),t.on("click",".close-modal",function(e){e.preventDefault(),o(a),t.removeClass("open"),t.fadeOut()}),t.on("click",".n-close",function(e){e.preventDefault(),o(30),t.removeClass("open"),t.fadeOut()}),t.find(".mc4wp-form").submit(function(){o(a)}),t.find(".formkit-form").submit(function(){o(a)}))},u.backToTop=function(){var e=p("#scroll-top");u.$window.scroll(function(){u.$window.scrollTop()>u.$window.height()?e.addClass("show-scroll"):e.removeClass("show-scroll")}),e.on("click",function(e){e.preventDefault(),p("html, body").stop().animate({scrollTop:0},800)})},u.headerMenu=function(){if(!(u.$body.hasClass("header-layout-3")||u.$body.hasClass("header-layout-1")||u.$header.find(".products-cats-menu").length<1)){var e=u.$header.find(".products-cats-menu").position().left;if("true"===martfuryData.direction){var t=u.$header.find(".header-logo").width()-e-u.$header.find(".products-cats-menu").width()+15;u.$header.find(".toggle-product-cats").css({right:-1*t})}else u.$header.find(".toggle-product-cats").css({left:-1*e})}},u.megaMenu=function(){u.$header.find(".primary-nav .menu-item.is-mega-menu").each(function(){var e=p(this).children(".dropdown-submenu").width(),t=p(this).closest(".col-header-menu").width(),a=p(this).outerWidth(),o=p(this).position().left+a/2-e/2;t-p(this).position().left+a/2-e/2<0?p(this).removeClass("has-width").addClass("align-right"):o<0&&p(this).removeClass("has-width").addClass("align-left")})},u.productSearchLabel=function(){u.$header.on("change","#header-search-product-cat",function(){var e=p(this).find("option:selected").text().trim();u.$header.find(".product-cat-label").html(e)}),u.$header.find(".products-search").submit(function(){"0"==p(this).find("#header-search-product-cat").val()&&p(this).find("#header-search-product-cat").removeAttr("name")})},u.postEntryFormat=function(){u.$body.hasClass("mf-blog-page")&&(p(".blog-wapper").find(".entry-format").find(".slides").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:1,slidesToScroll:1,infinite:!1,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>'}),p(".blog-wapper").find(".entry-format").fitVids({customSelector:"iframe, video"}))},u.toolTipIcon=function(){p(".catalog-sidebar").find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),p(".mf-product-thumbnail, .mf-single-product:not(.mf-product-layout-3)").find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),p(".mf-product-thumbnail, .mf-single-product:not(.mf-product-layout-3)").find(".compare").tooltip({content:function(){return p(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),p(document.body).on("added_to_cart",function(){p(".mf-product-thumbnail").find(".added_to_cart").tooltip({offsetTop:-15,content:function(){return p(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}})})},u.variationImagesCarousel=function(){p(".woocommerce ul.products li.product").find(".mf-attr-swatches-slick").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:3,slidesToScroll:3,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right  slick-next-arrow"></span>'})},u.addWishlist=function(){p("ul.products li.product .yith-wcwl-add-button").on("click","a",function(){p(this).addClass("loading")}),u.$body.on("added_to_wishlist",function(){p("ul.products li.product .yith-wcwl-add-button a").removeClass("loading")}),u.$body.on("added_to_wishlist removed_from_wishlist cart_page_refreshed",function(){p.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"update_wishlist_count"},success:function(e){u.$header.find(".menu-item-wishlist .mini-item-counter").html(e)}})})},u.addCompare=function(){u.$body.on("click","a.compare:not(.added)",function(e){e.preventDefault();var t=p(this);t.addClass("loading"),t.closest(".product-inner").find(".compare:not(.loading)").trigger("click");var a=!1;if(p(this).hasClass("added")&&(a=!0),!1===a){var o=u.$header.find("#mini-compare-counter").html();o=parseInt(o,10)+1,setTimeout(function(){u.$header.find("#mini-compare-counter").html(o)},2e3)}}),p(document).find(".compare-list").on("click",".remove a",function(e){e.preventDefault();var t=p("#mini-compare-counter",window.parent.document).html();(t=parseInt(t,10)-1)<0&&(t=0),p("#mini-compare-counter",window.parent.document).html(t)}),p(".yith-woocompare-widget").on("click","li a.remove",function(e){e.preventDefault();var t=$header.find("#mini-compare-counter").html();(t=parseInt(t,10)-1)<0&&(t=0),setTimeout(function(){$header.find("#mini-compare-counter").html(t)},2e3)}),p(".yith-woocompare-widget").on("click","a.clear-all",function(e){e.preventDefault(),setTimeout(function(){$header.find("#mini-compare-counter").html("0")},2e3)})},u.productQuantity=function(){u.$body.on("click",".quantity .increase, .quantity .decrease",function(e){e.preventDefault();var t=p(this),a=t.siblings(".qty"),o=parseInt(a.val(),10),i=parseInt(a.attr("min"),10),n=parseInt(a.attr("max"),10);i=i||1,n=n||o+1,t.hasClass("decrease")&&i<o&&(a.val(o-1),a.trigger("change")),t.hasClass("increase")&&o<n&&(a.val(o+1),a.trigger("change"))})},u.productThumbnail=function(){var t=p(".woocommerce-product-gallery"),a=t.find(".woocommerce-product-gallery__image.mf-product-video"),o=t.find(".flex-control-thumbs");u.$window.on("load",function(){p(".woocommerce-product-gallery").find(".woocommerce-product-gallery__image").each(function(){if(p(this).find("img").hasClass("lazy")){var e=p(this).find("img").data("original");p(this).find("img").attr("src",e)}})}),u.$body.hasClass("mobile-version")||t.imagesLoaded(function(){setTimeout(function(){if(!(o.length<1)){var e=t.data("columns");e<o.find("li").length?p(".mf-single-product").hasClass("mf-product-sidebar")?o.not(".slick-initialized").slick({slidesToShow:e,focusOnSelect:!0,slidesToScroll:1,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'}):(o.not(".slick-initialized").slick({slidesToShow:e,slidesToScroll:1,focusOnSelect:!0,vertical:!0,infinite:!1,prevArrow:'<span class="icon-chevron-up slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-down slick-next-arrow"></span>',responsive:[{breakpoint:768,settings:{slidesToShow:4}},{breakpoint:480,settings:{slidesToShow:3}}]}),o.find("li.slick-current").trigger("click")):o.addClass("no-slick"),0<a.length&&(p(".woocommerce-product-gallery").addClass("has-video"),p(".woocommerce-product-gallery").hasClass("video-first")?o.find("li").first().append('<i class="i-video fa fa-play"></i>'):o.find("li").last().append('<i class="i-video fa fa-play"></i>'))}},100)})},u.productVideo=function(){var i=p(".woocommerce-product-gallery"),e=i.find(".woocommerce-product-gallery__image.mf-product-video"),t=i.find(".flex-control-thumbs");if(!(e.length<1)){var n=!1,r=!1;t.on("click","li",function(){var e=i.find(".mf-product-video"),t=p(this).siblings().length;if(r=!0,p(this).index()==t&&(n=r=!1),!n&&r){var a=e.find("iframe"),o=e.find("video.wp-video-shortcode");0<a.length&&a.attr("src",a.attr("src")),0<o.length&&o[0].pause(),n=!0}return!1}),t.find("li").on("click",".i-video",function(e){e.preventDefault(),p(this).closest("li").find("img").trigger("click")})}},u.productGallery=function(){var e=p(".woocommerce-product-gallery");"1"==martfuryData.product_gallery?e.length&&(e.find(".woocommerce-product-gallery__image").on("mouseenter",function(){p(this).closest(".woocommerce-product-gallery").find(".ms-image-view").removeClass("hide"),p(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").addClass("hide")}),e.find(".woocommerce-product-gallery__image").on("mouseleave",function(){p(this).closest(".woocommerce-product-gallery").find(".ms-image-view").addClass("hide"),p(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").removeClass("hide")}),e.on("click",".woocommerce-product-gallery__image",function(e){if(e.preventDefault(),p(this).hasClass("mf-product-video"))return!1;var t=[],a=p(this).closest(".woocommerce-product-gallery").find(".woocommerce-product-gallery__image");a.each(function(){var e=p(this);e.hasClass("mf-product-video")?t.push({html:e.find(".mf-video-content").html()}):t.push({src:e.children("a").attr("href"),w:e.find("img").attr("data-large_image_width"),h:e.find("img").attr("data-large_image_height")})});var o={index:a.index(p(this)),bgOpacity:.85,showHideOpacity:!0,mainClass:"pswp--minimal-dark",barsSize:{top:0,bottom:0},captionEl:!1,fullscreenEl:!1,shareEl:!1,tapToClose:!0,tapToToggleControls:!1},i=new PhotoSwipe(document.getElementById("pswp"),window.PhotoSwipeUI_Default,t,o);i.init(),i.listen("close",function(){p(".mf-video-wrapper").find("iframe").each(function(){p(this).attr("src",p(this).attr("src"))}),p(".mf-video-wrapper").find("video").each(function(){p(this)[0].pause()})})})):e.on("click",".woocommerce-product-gallery__image",function(e){e.preventDefault()})},u.productDegree=function(){var e=p(".woocommerce-product-gallery .product-degree-images");if(!(e.length<1||martfuryData.product_degree.length<1)){var i="",n=p("#product-degree-pswp");e.on("click",function(e){if(e.preventDefault(),u.openModal(n),!n.hasClass("init")){n.addClass("init");for(var t=martfuryData.product_degree.split(","),a=[],o=0;o<t.length;o++)a.push(t[o]);i=n.find(".mf-product-gallery-degree").ThreeSixty({totalFrames:a.length,endFrame:a.length,currentFrame:1,imgList:n.find(".product-degree-images"),progress:".mf-gallery-degree-spinner",imgArray:a,height:500,width:830,navigation:!0}),n.find(".product-degree-images").imagesLoaded(function(){n.find(".nav_bar").removeClass("hide")}),n.on("click",".degree-pswp-close, .degree-pswp-bg",function(){i.stop(),p(this).removeClass("play")})}}),n.on("click",".degree-pswp-close, .degree-pswp-bg",function(){u.closeModal(n)})}},u.cartQuantity=function(){u.$body.hasClass("woocommerce-cart")&&"1"==martfuryData.quantity_ajax&&(u.$body.on("click",".quantity .increase, .quantity .decrease",function(e){e.preventDefault(),u.$body.find('button[name="update_cart"]').trigger("click")}),u.$body.on("keyup",".quantity .qty",function(e){e.preventDefault(),u.$body.find('button[name="update_cart"]').trigger("click")}))},u.openModal=function(e){e.fadeIn(),e.addClass("open")},u.closeModal=function(e){e.fadeOut(function(){p(this).removeClass("open")})},u.hoverProductTabs=function(){var e,t,a,o,i,n=p(".mf-single-product .woocommerce-tabs").find("ul.wc-tabs");if(!(n.length<1)){n.append('<li id="tl-wc-tab" class="tl-wc-tab"></li>');var r=p("#tl-wc-tab");i=n.children("li.active").outerWidth(),r.width(i).css("left",n.children("li.active").position().left).data("origLeft",r.position().left).data("origWidth",r.width()),o=r.data("origWidth"),n.children("li").on("mouseenter",function(){e=p(this),a=e.outerWidth(),t=e.position().left,r.stop().animate({left:t,width:a})}),n.children("li").on("mouseleave",function(){r.stop().animate({left:r.data("origLeft"),width:o})}),n.on("click","li",function(){e=p(this),o=a=e.outerWidth(),t=e.position().left,r.stop().animate({left:t,width:a}),r.data("origLeft",t).data("origWidth",a)})}},u.searchLayeredNav=function(){var e=p(".mf-widget-layered-nav");e.length<1||(e.find(".mf-widget-layered-nav-scroll").each(function(){var e=p(this).data("height");p(this).height()>parseInt(e)&&p(this).slimScroll({height:e,railVisible:!0,alwaysVisible:!0,size:"6px",color:"#666",railColor:"#ccc",railOpacity:1})}),e.on("keyup",".mf-input-search-nav",function(e){var t=!1;if(void 0===e.which?t=!0:"number"==typeof e.which&&0<e.which&&(t=!e.ctrlKey&&!e.metaKey&&!e.altKey),t){var a=p(this).val();"number"==typeof a&&(a=""+a);var o=a.toUpperCase(),i=p(this).closest(".mf-widget-layered-nav"),n=i.find(".woocommerce-widget-layered-nav-list");n.children(".wc-layered-nav-term").each(function(){var e=p(this).find("a").data("title");"number"==typeof e&&(e=""+e),-1<(e=e.toUpperCase()).indexOf(o)?p(this).show():p(this).hide()});var r=n.data("height");n.height()<parseInt(r)?i.addClass("no-scroll"):i.removeClass("no-scroll")}}))},u.instanceSearch=function(){if("1"==martfuryData.ajax_search){var c=null,l={},a=u.$body.find("form.products-search");a.on("keyup",".search-field",function(e){var t=!1;if(void 0===e.which?t=!0:"number"==typeof e.which&&0<e.which&&(t=!e.ctrlKey&&!e.metaKey&&!e.altKey),t){c&&c.abort();var a=p(this).closest(".products-search");a.find("input.search-field").val().length<2&&a.removeClass("searching searched actived found-products found-no-product invalid-length"),o(a)}}).on("change","#header-search-product-cat",function(){c&&c.abort(),o(p(this).closest(".products-search"))}).on("focusout",".search-field",function(){var e=p(this).closest(".products-search");e.find("input.search-field").val().length<2&&e.removeClass("searching searched actived found-products found-no-product invalid-length")}),p(document).on("click",function(e){if(a.hasClass("actived")){var t=e.target;p(t).closest(".products-search").length<1&&a.removeClass("searching searched actived found-products found-no-product invalid-length")}})}function o(a){var e=a.find("input.search-field").val(),t=0,o=a.find(".search-results");if(0<a.find("#header-search-product-cat").length&&(t=a.find("#header-search-product-cat").val()),e.trim().length<2)a.removeClass("searching found-products found-no-product").addClass("invalid-length");else{a.removeClass("found-products found-no-product").addClass("searching");var i=e+t;if(i in l){var n=l[i];a.removeClass("searching"),a.addClass("found-products"),o.html(n.products),p(document.body).trigger("martfury_ajax_search_request_success",[o]),a.removeClass("invalid-length"),a.addClass("searched actived")}else if("undefined"==typeof wc_add_to_cart_params)c=p.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"martfury_search_products",nonce:martfuryData.nonce,term:e,cat:t,search_type:martfuryData.search_content_type},success:function(e){var t=e.data;d(a,o,t,i)}});else{var r={term:e,nonce:martfuryData.nonce,cat:t,search_type:martfuryData.search_content_type},s=wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","martfury_search_products");c=p.post(s,r,function(e){var t=e.data;d(a,o,t,i)})}}}function d(e,t,a,o){e.removeClass("searching"),e.addClass("found-products"),t.html(a),e.removeClass("invalid-length"),p(document.body).trigger("martfury_ajax_search_request_success",[t]),l[o]={found:!0,products:a},e.addClass("searched actived")}},u.singleEntryFormat=function(){if(u.$body.hasClass("single-post")){var e=p("#mf-single-entry-format");e.find(".slides").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:1,slidesToScroll:1,infinite:!1,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>'}),e.fitVids({customSelector:"iframe, video"})}},u.blogLayout=function(){u.$body.hasClass("blog-layout-masonry")&&u.$body.imagesLoaded(function(){u.$body.find(".mf-post-list").isotope({itemSelector:".blog-wapper",layoutMode:"masonry"})})},u.relatedPost=function(){if(u.$body.hasClass("single-post")){var e=p("#mf-related-posts").find(".related-posts-list");e.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:3,slidesToScroll:1,dots:!0,infinite:!1,arrows:!1,responsive:[{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]}),e.on("afterChange",function(){u.lazyLoad()})}},u.blogLoadingAjax=function(){u.$window.on("scroll",function(){u.$body.find("#mf-infinite-loading").is(":in-viewport")&&u.$body.find("#mf-infinite-loading").trigger("click")}).trigger("scroll"),u.$body.on("click","#mf-infinite-loading",function(e){if(e.preventDefault(),!p(this).data("requestRunning")){p(this).data("requestRunning",!0);var o=u.$body.find(".mf-post-list"),i=p(this).parents(".navigation");p.get(p(this).closest(".page-numbers").attr("href"),function(e){var t=p(e).find(".mf-post-list").children(".blog-wapper"),a=p(e).find(".navigation").html();i.html(a),o.append(t),i.find("a").data("requestRunning",!1),u.lazyLoad(),u.postEntryFormat()})}})},u.pageHeaderParallax=function(){if(p(".page-header").hasClass("page-header-sliders")){var e=p(".page-header-sliders"),t=e.data("speed"),a=e.data("auto");e.find("ul").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:1,slidesToScroll:1,infinite:!0,autoplaySpeed:t,autoplay:a,arrows:!1}),e.on("click",".slick-prev-arrow",function(){e.find("ul").slick("slickPrev")}),e.on("click",".slick-next-arrow",function(){e.find("ul").slick("slickNext")})}},u.lazyLoad=function(){u.$body.find("img.lazy").lazyload({load:function(){p(this).removeClass("lazy")}}),u.$window.on("load",function(){p(".mf-products-list-carousel").find("img.lazy").lazyload({load:function(){p(this).removeClass("lazy")}}).trigger("appear")})},u.recentlyViewedProducts=function(){function i(){var t=p("#footer-recently-viewed");t.length<=0||t.hasClass("load-ajax")&&(t.hasClass("loaded")||p.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"martfury_footer_recently_viewed",nonce:martfuryData.nonce},error:function(){t.addClass("no-products")},success:function(e){t.html(e.data),t.find(".product-list").hasClass("no-products")&&t.addClass("no-products"),u.lazyLoad(),a(t),t.addClass("loaded")}}))}function a(e){if(!e.find(".product-list").hasClass("no-products")){var t=parseInt(e.data("columns"));e.find(".product-list").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:t,slidesToScroll:t,arrows:!0,infinite:!1,dots:!0,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>',responsive:[{breakpoint:1500,settings:{slidesToShow:8<parseInt(t)?8:t,slidesToScroll:8<parseInt(t)?8:t}},{breakpoint:1200,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:800,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:3}}]})}}i(),function(){var e=p("#footer-history-products"),t=!0,a=p("#footer-recently-viewed"),o=p("#mf-off-canvas-layer");if(e.length<=0)return;e.on("click",".recently-title",function(e){e.preventDefault(),a.addClass("load-ajax"),o.toggleClass("opened"),a.slideToggle(400,function(){t&&(i(),t=!1)}),p(this).toggleClass("active")}),o.on("click",function(){o.removeClass("opened"),e.find(".recently-title").removeClass("active"),a.slideUp(400)})}(),function(){var t=p("#header-recently-viewed");if(t.length<=0)return;u.$window.on("load",function(){p.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"martfury_header_recently_viewed",nonce:martfuryData.nonce},success:function(e){t.html(e.data),t.find(".product-list").hasClass("no-products")&&t.addClass("no-products"),u.lazyLoad(),a(t)}})})}()},u.catalogBanners=function(){var e=p("#mf-catalog-banners");if(!(e.length<=0)){e.data("columns");var t=e.data("autoplay"),a=!1,o=1e3;t=0<t&&(o=t,a=!0),e.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:1,slidesToScroll:1,autoplaySpeed:o,autoplay:t,infinite:a,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'}),e.on("afterChange",function(){u.lazyLoad()})}},u.productsTopCarousel=function(){var e=p(".mf-products-top-carousel");e.length<=0||e.each(function(){var e=p(this).data("columns"),t=p(this).data("autoplay"),a=!1,o=1e3;t=0<t&&(o=t,a=!0),p(this).find("ul.products").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:e,slidesToScroll:e,autoplaySpeed:o,autoplay:t,infinite:a,dots:!0,prevArrow:p(this).find(".slick-prev-arrow"),nextArrow:p(this).find(".slick-next-arrow"),responsive:[{breakpoint:992,settings:{slidesToShow:3<parseInt(e)?3:e,slidesToScroll:3<parseInt(e)?3:e}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),p(this).on("afterChange",function(){u.lazyLoad()})})},u.collapseTheFilter=function(){u.$body.hasClass("mobile-version")&&"1"==martfuryData.collapse_the_filter.collapse&&p(".catalog-sidebar .widget").each(function(){var e=p(this);e.length<=0||("close"==martfuryData.collapse_the_filter.status?(e.find(".widget-title").siblings().addClass("closed"),e.find(".widget-title").addClass("non-active")):e.find(".widget-title").addClass("active"),e.on("click",".widget-title",function(e){e.preventDefault(),p(this).siblings().slideToggle(),p(this).siblings().toggleClass("opened"),p(this).toggleClass("active")}),u.searchLayeredNav())})},u.wooTabToggle=function(){u.$body.hasClass("mobile-version")&&"1"==martfuryData.collapse_tab.collapse&&p(".mf-woo-tabs .mf-Tabs-panel").each(function(){var e=p(this).attr("id"),t=p("#"+e).find(".tab-title");"close"==martfuryData.collapse_tab.status?t.siblings(".tab-content-wrapper").addClass("closed"):t.addClass("active"),t.on("click",function(e){e.preventDefault(),p(this).siblings(".tab-content-wrapper").slideToggle().toggleClass("opened"),p(this).toggleClass("active")})})},u.productCategoriesWidget=function(){var e=p(".mf_widget_product_categories, .wcv.widget_product_categories");e.length<=0||(e.find("ul.children").closest("li").prepend('<span class="cat-menu-close"><i class="icon-chevron-down"></i> </span>'),e.find("li.current-cat-parent, li.current-cat, li.current-cat-ancestor").addClass("opened").children(".children").show(),e.on("click",".cat-menu-close",function(e){e.preventDefault(),p(this).closest("li").children(".children").slideToggle(),p(this).closest("li").toggleClass("opened")}))},u.productTopCategories=function(){var e=p(".mf-catalog-top-categories");e.length<=0||e.on("click",".cat-menu-close",function(e){e.preventDefault(),p(this).closest("li").children(".sub-categories").slideToggle(),p(this).closest("li").toggleClass("opened")})},u.productAttribute=function(){var i="",n="";u.$body.on("mouseover",".mf-swatch-image",function(e){e.preventDefault();var t=p(this).closest("li.product").find(".mf-product-thumbnail").find("img");i=t.attr("src"),n=t.attr("srcset");var a=p(this).find("img").attr("src"),o=p(this).find("img").attr("srcset");t.attr("src",a),o&&t.attr("srcset",o)}).on("mouseout",".mf-swatch-image",function(e){e.preventDefault();var t=p(this).closest("li.product").find(".mf-product-thumbnail").find("img");i&&t.attr("src",i),n&&t.attr("srcset",n)}),u.$body.on("mouseover",".mf-attr-swatches",function(e){e.preventDefault(),p(this).closest("li.product").find(".mf-product-thumbnail").addClass("hover-swatch")}).on("mouseout",".mf-attr-swatches",function(e){e.preventDefault(),p(this).closest("li.product").find(".mf-product-thumbnail").removeClass("hover-swatch")})},u.shopView=function(){u.$body.on("click",".mf-shop-view",function(e){e.preventDefault();var t=p(this),a=t.data("view");t.hasClass("current")||(u.$body.find(".mf-shop-view").removeClass("current"),t.addClass("current"),u.$body.removeClass("shop-view-grid shop-view-list").addClass("shop-view-"+a),document.cookie="shop_view="+a+";domain="+window.location.host+";path=/",p(document.body).trigger("martfury_shop_view_after_change"))}),p(document.body).on("martfury_shop_view_after_change",function(){u.lazyLoad()})},u.singleProductCarousel=function(){var e=u.$body.find(".up-sells ul.products"),t=u.$body.find(".related.products ul.products");if(!(e.length<=0&&t.length<=0)){var a=e.closest(".up-sells").data("columns");e.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:parseInt(a),slidesToScroll:parseInt(a),arrows:!0,dots:!0,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1366,settings:{slidesToShow:5<parseInt(a)?5:parseInt(a),slidesToScroll:5<parseInt(a)?5:parseInt(a)}},{breakpoint:1200,settings:{slidesToShow:4<parseInt(a)?4:parseInt(a),slidesToScroll:4<parseInt(a)?4:parseInt(a)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),e.on("afterChange",function(){u.lazyLoad()});var o=t.closest(".related").data("columns");t.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:parseInt(o),slidesToScroll:parseInt(o),arrows:!0,dots:!0,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1366,settings:{slidesToShow:5<parseInt(o)?5:parseInt(o),slidesToScroll:5<parseInt(o)?5:parseInt(o)}},{breakpoint:1200,settings:{slidesToShow:4<parseInt(o)?4:parseInt(o),slidesToScroll:4<parseInt(o)?4:parseInt(o)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),t.on("afterChange",function(){u.lazyLoad()})}},u.fbtProduct=function(){var i=p("#mf-product-fbt");if(!(i.length<=0)){var n=i.find(".mf-total-price .woocommerce-Price-amount"),r=i.find(".mf_add_to_cart_button"),s=parseFloat(i.find("#mf-data_price").data("price")),c=martfuryData.currency_symbol,l=martfuryData.thousand_sep,d=martfuryData.decimal_sep,u=martfuryData.price_decimals,f=martfuryData.currency_pos;i.find(".products-list").on("click","a",function(e){e.preventDefault();var t=p(this).data("id");p(this).closest("li").toggleClass("uncheck");var a=parseFloat(p(this).closest("li").find(".s-price").data("price"));p(this).closest("li").hasClass("uncheck")?(i.find("#fbt-product-"+t).addClass("un-active"),s-=a):(i.find("#fbt-product-"+t).removeClass("un-active"),s+=a);var o="0";i.find(".products-list li").each(function(){p(this).hasClass("uncheck")||(o+=","+p(this).find("a").data("id"))}),r.attr("value",o),n.html(function(e){var t=e;if(0<parseInt(u)){for(var a=(e=e.toFixed(u)+"").split("."),o=a[0],i=1<a.length?d+a[1]:"",n=/(\d+)(\d{3})/;n.test(o);)o=o.replace(n,"$1"+l+"$2");t=o+i}switch(f){case"left":return c+t;case"right":return t+c;case"left_space":return c+" "+t;case"right_space":return t+" "+c}}(s))})}},u.fbtAddToCartAjax=function(){var e=p("#mf-product-fbt");e.length<=0||e.on("click",".mf_add_to_cart_button.ajax_add_to_cart",function(e){e.preventDefault();var a=p(this);a.addClass("loading");var t=window.location.href,o="",i=0;p("#mf-product-fbt").find(".products-list li").each(function(){p(this).hasClass("uncheck")||(0<i&&(o+=","),o+=" "+p(this).find("a").data("title"),i++)}),p.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"martfury_fbt_add_to_cart",nonce:martfuryData.nonce,product_ids:a.attr("value")},error:function(){window.location=t},success:function(e){if("undefined"==typeof wc_add_to_cart_params||"yes"!==wc_add_to_cart_params.cart_redirect_after_add){p(document.body).trigger("updated_wc_div"),p(document.body).on("wc_fragments_refreshed",function(){a.removeClass("loading")});var t=o+" "+martfuryData.l10n.notice_texts;u.addedToCartNotice("",t,!1,"success")}else window.location=wc_add_to_cart_params.cart_url}})})},u.fbtAddToWishlistAjax=function(){var a=p("#mf-product-fbt"),o=0;if(!(a.length<=0)){var i=n();0==i.length&&(a.find(".btn-view-to-wishlist").addClass("showed"),a.find(".btn-add-to-wishlist").addClass("hided")),a.on("click",".btn-add-to-wishlist",function(e){e.preventDefault();var t=p(this);0!=(i=n()).length&&(t.addClass("loading"),r(i[o]),u.$body.on("added_to_wishlist",function(){i.length>o?r(i[o]):i.length==o&&(a.find(".btn-view-to-wishlist").addClass("showed"),a.find(".btn-add-to-wishlist").addClass("hided"),t.removeClass("loading"))}))})}function n(){var e=[];return a.find("li.product").each(function(){p(this).hasClass("un-active")||p(this).hasClass("product-buttons")||p(this).find(".yith-wcwl-add-button").hasClass("hide")||-1==e.indexOf(p(this).data("id"))&&e.push(p(this).data("id"))}),e}function r(e){return a.find(".add-to-wishlist-"+e).find(".yith-wcwl-add-button.show .add_to_wishlist").trigger("click"),++o}},u.instagramCarousel=function(){var e=u.$body.find(".mf-product-instagram ul.products"),t=e.data("columns"),a=e.data("auto"),o=!1,i=1e3;e.length<1||(a=0<a&&(i=a,o=!0),e.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:t,slidesToScroll:t,autoplaySpeed:i,autoplay:a,infinite:o,dots:!0,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1200,settings:{slidesToShow:4<parseInt(t)?4:parseInt(t),slidesToScroll:4<parseInt(t)?4:parseInt(t)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),e.on("afterChange",function(){u.lazyLoad()}))},u.productQuickView=function(){var n=p("#mf-quick-view-modal"),r=n.find(".product-modal-content");u.$body.on("click",".mf-product-quick-view",function(e){e.preventDefault();var t=p(this).data("id");r.hide().html(""),n.addClass("loading").removeClass("loaded"),u.openModal(n),p.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"martfury_product_quick_view",nonce:martfuryData.nonce,product_id:t},success:function(e){r.show().append(e.data),n.removeClass("loading").addClass("loaded");var t=r.find(".woocommerce-product-gallery"),a=p(".variations_form"),o=r.find("form.cart .actions-button"),i=o.find(".buy_now_button");t.removeAttr("style"),t.find("img.lazy").lazyload().trigger("appear"),t.imagesLoaded(function(){t.find(".woocommerce-product-gallery__wrapper").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'})}),0<i.length&&o.prepend(i),t.find(".woocommerce-product-gallery__image").on("click",function(e){e.preventDefault()}),"undefined"!=typeof wc_add_to_cart_variation_params&&a.each(function(){p(this).wc_variation_form()}),void 0!==p.fn.tawcvs_variation_swatches_form&&a.tawcvs_variation_swatches_form(),u.productVatiation(),"undefined"!=typeof tawcvs&&"yes"===tawcvs.tooltip&&a.find(".swatch").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tool-tip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),r.find(".compare").tooltip({content:function(){return p(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),r.find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),u.buyNow(),u.addToCartAjax()}})}),n.on("click",".close-modal, .mf-modal-overlay",function(e){e.preventDefault(),u.closeModal(n)})},u.productVatiation=function(){u.$body.on("tawcvs_initialized",function(){p(".variations_form").unbind("tawcvs_no_matching_variations"),p(".variations_form").on("tawcvs_no_matching_variations",function(e,t){e.preventDefault(),p(".variations_form").find(".woocommerce-variation.single_variation").show(),"undefined"!=typeof wc_add_to_cart_variation_params&&p(".variations_form").find(".single_variation").slideDown(200).html("<p>"+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>")})}),p(".variations_form").on("found_variation.wc-variation-form",function(e,t){var a=p(".mf-product-detail").find(".meta-sku").find(".meta-value");"function"==typeof a.wc_set_content&&"function"==typeof a.wc_reset_content&&(t.sku?a.wc_set_content(t.sku):a.wc_reset_content())}),p(".variations_form td.value").on("change","select",function(){var e=p(this).find("option:selected").text();p(this).closest("tr").find("td.label .mf-attr-value").html(e)})},u.productVariationVideo=function(){var e=p(".variations_form"),o=p(".woocommerce-product-gallery");e.on("found_variation.wc-variation-form",function(e,t){if(o.hasClass("video-first")&&o.hasClass("has-video")){var a=o.find(".mf-video-content").find(".wp-post-image");a.length<1||"#"===a.attr("src")||(t&&t.image&&t.image.src&&1<t.image.src.length?o.addClass("active-first-image"):o.removeClass("active-first-image"))}}),e.on("reset_image",function(e){o.removeClass("active-first-image")})},u.addToCartAjax=function(){if("0"!=martfuryData.add_to_cart_ajax){var n=!1;u.$body.find("form.cart").on("click",".single_add_to_cart_button",function(e){var o=p(this),t=o.closest("form.cart");if(!o.hasClass("has-buy-now")&&0<t.length&&(e.preventDefault(),!o.hasClass("disabled")&&(o.addClass("loading"),!n))){n=!0;var a=t.serializeArray(),i=window.location.href;""!=o.val()&&a.push({name:o.attr("name"),value:o.val()}),p.ajax({url:window.location.href,method:"post",data:a,error:function(){window.location=i},success:function(e){if(e||(window.location=i),"undefined"==typeof wc_add_to_cart_params||"yes"!==wc_add_to_cart_params.cart_redirect_after_add){p(document.body).trigger("updated_wc_div"),p(document.body).on("wc_fragments_refreshed",function(){o.removeClass("loading")});var t="",a="success";0<p(e).find(".woocommerce-message").length&&(t=p(e).find(".woocommerce-message").html()),0<p(e).find(".woocommerce-error").length&&(t=p(e).find(".woocommerce-error").html(),a="error"),0<p(e).find(".woocommerce-info").length&&(t=p(e).find(".woocommerce-info").html()),t&&u.addedToCartNotice(t," ",!0,a),n=!1}else window.location=wc_add_to_cart_params.cart_url}})}})}},u.addedToCartNotice=function(e,t,a,o){"1"==martfuryData.added_to_cart_notice&&p.fn.notify&&(e+='<a href="'+martfuryData.l10n.cart_link+'" class="btn-button">'+martfuryData.l10n.cart_text+"</a>",a&&(e='<div class="message-box">'+e+"</div>"),p.notify.addStyle("martfury",{html:'<div><i class="icon-checkmark-circle message-icon"></i><span data-notify-text/>'+e+'<span class="close icon-cross2"></span> </div>'}),p.notify(t,{autoHideDelay:martfuryData.l10n.cart_notice_auto_hide,className:o,style:"martfury",showAnimation:"fadeIn",hideAnimation:"fadeOut"}))},u.filterAjax=function(){u.$body.hasClass("catalog-ajax-filter")&&(p("#page").addClass("fade-in"),p(document.body).on("price_slider_change",function(e,t){var a=p(".price_slider").closest("form").get(0),o=p(a),i=o.attr("action")+"?"+o.serialize();p(document.body).trigger("martfury_catelog_filter_ajax",i,p(this))}),u.$body.on("click",".mf_widget_product_categories a, .mf-widget-layered-nav a, .widget_rating_filter a, .widget_layered_nav_filters a, ul.woocommerce-ordering a:not(.mf-cancel-order)",function(e){e.preventDefault();var t=p(this).attr("href");p(document.body).trigger("martfury_catelog_filter_ajax",t,p(this))}),p(document.body).on("martfury_catelog_filter_ajax",function(e,t,a){var o=p("#content"),i=p(".page-header");NProgress.start(),p("#page").removeClass("fade-in"),"?"==t.slice(-1)&&(t=t.slice(0,-1)),t=t.replace(/%2C/g,","),history.pushState(null,null,t),p(document.body).trigger("martfury_ajax_filter_before_send_request",[t,a]),u.ajaxXHR&&u.ajaxXHR.abort(),u.ajaxXHR=p.get(t,function(e){o.replaceWith(p(e).find("#content")),i.html(p(e).find(".page-header").html()),p(e).find("#primary-sidebar").length<1&&u.$body.removeClass("mb-filter-active sidebar-content").addClass("full-content"),p(document.body).trigger("martfury_ajax_filter_request_success",[e,t])},"html")}),p(document.body).on("martfury_ajax_filter_request_success",function(){u.lazyLoad(),u.toolTipIcon(),u.searchLayeredNav(),u.catalogBanners(),u.productsTopCarousel(),u.collapseTheFilter(),u.productCategoriesWidget(),u.productAttribute(),u.variationImagesCarousel(),u.productTopCategories(),u.priceSlider(),u.catalogSorting(),NProgress.done(),p("#page").addClass("fade-in")}))},u.stickyProductInfo=function(){if(u.$body.hasClass("sticky-header-info")){var a=p("#sticky-product-info-wapper"),o=p("div.product").find(".woocommerce-tabs"),i=a.outerHeight(!0),n=p("div.product").find(".mf-product-summary"),r=p("div.product").find(".entry-summary").find(".cart"),s=0;a.find(".sc-tabs").on("click","a",function(e){e.preventDefault();var t=p(this).data("tab");if(p(this).closest(".sc-tabs").find("a").removeClass("active"),p(this).addClass("active"),u.$body.hasClass("single-product-layout-3")||u.$body.hasClass("mobile-version")){var a=p("#tab-"+t);0<a.length&&(s=a.offset().top-i-60,p("html, body").stop().animate({scrollTop:s},400))}else 0<o.length&&(o.find("."+t+"_tab a").trigger("click"),s=o.offset().top-i-60,p("html, body").stop().animate({scrollTop:s},400))}),o.find(".wc-tabs").on("click","a",function(e){e.preventDefault();var t=p(this).attr("href");(t=t?t.replace("#",""):t)&&(a.find(".sc-tabs").find("a").removeClass("active"),a.find(".sc-tabs ."+t).addClass("active"))}),a.find(".sc-product-cart").on("click",".button",function(e){if(e.preventDefault(),0<r.length){var t=r.offset().top-i-50;p("html, body").stop().animate({scrollTop:t},400)}});if((u.$body.hasClass("single-product-layout-3")||u.$body.hasClass("mobile-version"))&&u.$window.on("scroll",function(){a.find(".sc-tabs li a").removeClass("active"),a.find(".sc-tabs li").each(function(){var e=p(this).find("a"),t=e.attr("href");p(t).is(":in-viewport(150)")&&e.addClass("active")})}),!(n.length<1)){var c=0;u.$window.on("scroll",function(){if(u.$body.hasClass("mobile-version")){var e=0<p("#topbar").length?p("#topbar").outerHeight(!0):0,t=u.$header.outerHeight(!0);c=t+e}else c=n.offset().top-300;u.$window.scrollTop()>c?a.addClass("viewport"):a.removeClass("viewport")})}}},u.catalogOpenCartMini=function(){p(document.body).on("added_to_cart",function(e,t,a,o){var i=o.attr("data-title")+" "+martfuryData.l10n.notice_text;u.addedToCartNotice("",i,!1,"success")})},u.priceSlider=function(){if("undefined"==typeof woocommerce_price_slider_params)return!1;if(p(".catalog-sidebar").find(".widget_price_filter").length<=0)return!1;p("input#min_price, input#max_price").hide(),p(".price_slider, .price_label").show();var e=p(".price_slider_amount #min_price").data("min"),t=p(".price_slider_amount #max_price").data("max"),a=parseInt(e,10),o=parseInt(t,10);""!=p(".price_slider_amount #min_price").val()&&(a=parseInt(p(".price_slider_amount #min_price").val(),10)),""!=p(".price_slider_amount #max_price").val()&&(o=parseInt(p(".price_slider_amount #max_price").val(),10)),p(document.body).on("price_slider_create price_slider_slide",function(e,t,a){"left"===woocommerce_price_slider_params.currency_pos?(p(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+t),p(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+a)):"left_space"===woocommerce_price_slider_params.currency_pos?(p(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+" "+t),p(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+" "+a)):"right"===woocommerce_price_slider_params.currency_pos?(p(".price_slider_amount span.from").html(t+woocommerce_price_slider_params.currency_symbol),p(".price_slider_amount span.to").html(a+woocommerce_price_slider_params.currency_symbol)):"right_space"===woocommerce_price_slider_params.currency_pos&&(p(".price_slider_amount span.from").html(t+" "+woocommerce_price_slider_params.currency_symbol),p(".price_slider_amount span.to").html(a+" "+woocommerce_price_slider_params.currency_symbol)),p(document.body).trigger("price_slider_updated",[t,a])}),void 0!==p.fn.slider&&p(".price_slider").slider({range:!0,animate:!0,min:e,max:t,values:[a,o],create:function(){p(".price_slider_amount #min_price").val(a),p(".price_slider_amount #max_price").val(o),p(document.body).trigger("price_slider_create",[a,o])},slide:function(e,t){p("input#min_price").val(t.values[0]),p("input#max_price").val(t.values[1]),p(document.body).trigger("price_slider_slide",[t.values[0],t.values[1]])},change:function(e,t){p(document.body).trigger("price_slider_change",[t.values[0],t.values[1]])}})},u.loginTabs=function(){var o=p(".martfury-login-tabs"),e=o.find(".tabs-nav a"),i=o.find(".tabs-panel");e.on("click",function(e){e.preventDefault();var t=p(this),a=t.parent().index();t.hasClass("active")||(o.find(".tabs-nav a").removeClass("active"),t.addClass("active"),i.removeClass("active"),i.filter(":eq("+a+")").addClass("active"))})},u.productsLoadInfinite=function(){u.$body.hasClass("navigation-type-infinite")&&(u.$window.on("scroll",function(){u.$body.find("#martfury-products-loading").is(":in-viewport")&&u.$body.find("#martfury-products-loading").closest(".next").trigger("click")}).trigger("scroll"),u.$body.on("click",".woocommerce-pagination .next",function(e){e.preventDefault();var t=p(this);if(!t.data("requestRunning")){t.data("requestRunning",!0);var o=t.closest(".woocommerce-pagination"),i=o.prev(".products"),a=t.closest(".next").attr("href");p.get(a,function(e){var t=p(e).find("#mf-shop-content ul.products").children("li.product"),a=p(e).find(".woocommerce-pagination").html();u.$body.hasClass("wcfmmp-store-page")&&(t=p(e).find("#products-wrapper ul.products").children("li.product")),o.html(a),i.append(t),o.find(".next").data("requestRunning",!1),u.toolTipIcon(),u.lazyLoad(),u.variationImagesCarousel(),p(document.body).trigger("martfury_shop_ajax_loading_success")})}}))},u.buyNow=function(){u.$body.find("form.cart").on("click",".buy_now_button",function(e){e.preventDefault();var t=p(this).closest("form.cart");p(this).is(":disabled")?jQuery("html, body").animate({scrollTop:p(this).offset().top-200},900):(t.append('<input type="hidden" value="true" name="buy_now" />'),t.find(".single_add_to_cart_button").addClass("has-buy-now"),t.find(".single_add_to_cart_button").trigger("click"))})},u.footerDropdown=function(){if(u.$body.hasClass("mobile-version")){var e=p("#footer-widgets .widget_nav_menu, #footer-links .widget_nav_menu");e.find(".widget-title").next("div").addClass("clicked"),e.on("click",".widget-title",function(e){e.preventDefault(),p(this).next(".clicked").stop().slideToggle(),p(this).toggleClass("active")})}},u.catalogSorting=function(){if(u.$body.hasClass("mobile-version")){var t=p("#mf-catalog-sorting-mobile");p("#mf-catalog-toolbar").on("click",".woocommerce-ordering",function(e){e.preventDefault(),t.addClass("mf-active")}),t.on("click","a",function(e){t.removeClass("mf-active"),t.find("a").removeClass("active"),p(this).addClass("active")})}},u.filterOnMobile=function(){u.$body.on("click","#mf-filter-mobile",function(e){e.preventDefault(),u.$body.toggleClass("mf-filter-active")}),u.$body.find("#mf-catalog-close-sidebar").on("click",".close-sidebar",function(e){e.preventDefault(),u.$body.removeClass("mf-filter-active")})},u.wcfm=function(){return!(p("#mf_pbt_product_ids").length<=0)&&("undefined"!=typeof $wcfm_product_select_args&&void p("#mf_pbt_product_ids").select2($wcfm_product_select_args))},p(function(){u.init()})}(jQuery);